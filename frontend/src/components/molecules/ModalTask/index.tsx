import React, { useRef, useState } from 'react'

import { CSSTransition, TransitionGroup } from 'react-transition-group'

import { useStore } from 'effector-react'
import { ModalWindow } from '../../atoms/ModalWindow'
import { OpacityInput } from '../../atoms/OpacityInput'
import { MainButton } from '../../atoms/MainButton'
import { ColorStrokeField } from '../../atoms/ColorStrokeField'

import './style.scss'

import { useToasty } from '../../../hooks/toast.hook'
import { Timer } from '../../atoms/Timer'
import { $isModalTaskActive, modalTaskActive, modalTaskInactive } from '../../../store/popup.store'

export const ModalTask = () => {
	const notification = useToasty()

	const RefColor = useRef<HTMLDivElement>(null) // for CSSTransition
	const refImageUpload = useRef<HTMLInputElement>(null)

	const [isColorStrokeActive, setColorStoreActive] = useState(false)
	const [cover, setCover] = useState('')

	const CoverReader = (event: React.ChangeEvent<HTMLInputElement>) => {
		const file = event.target.files![0]

		if (!/\.(jpe?g|png|gif)$/i.test(file.name)) {
			CoverImgReset()
			return notification(`${file.name} is not an image`)
		}

		if (file.size > 1024 * 1024 * 5) {
			CoverImgReset()
			return notification('Max size 5 MB')
		}

		const reader = new FileReader()

		reader.onload = () => {
			setCover(reader.result as string)
		}
		reader.readAsDataURL(file)
	}

	const CoverImgReset = () => {
		refImageUpload.current!.value = ''
		setCover('')
	}

	const isModalTaskActive = useStore($isModalTaskActive)

	return (
		<TransitionGroup>
			<ModalWindow
				modalActive={isModalTaskActive}
				setModalActive={() => modalTaskActive}
				isButtonClose={false}
			>
				<div className='modal-task'>
					<div className='modal-task__container'>
						{cover && (
							<div className='modal-task__cover-preview'>
								<img src={cover} alt='cover' />
								<button className='modal-task__cover-close' onClick={CoverImgReset}>
									<svg
										width='24'
										height='24'
										viewBox='0 0 24 24'
										fill='none'
										xmlns='http://www.w3.org/2000/svg'
									>
										<path
											d='M13.41 11.9999L19.71 5.70994C19.8983 5.52164 20.0041 5.26624 20.0041 4.99994C20.0041 4.73364 19.8983 4.47825 19.71 4.28994C19.5217 4.10164 19.2663 3.99585 19 3.99585C18.7337 3.99585 18.4783 4.10164 18.29 4.28994L12 10.5899L5.71 4.28994C5.5217 4.10164 5.2663 3.99585 5 3.99585C4.7337 3.99585 4.4783 4.10164 4.29 4.28994C4.1017 4.47825 3.99591 4.73364 3.99591 4.99994C3.99591 5.26624 4.1017 5.52164 4.29 5.70994L10.59 11.9999L4.29 18.2899C4.19627 18.3829 4.12188 18.4935 4.07111 18.6154C4.02034 18.7372 3.9942 18.8679 3.9942 18.9999C3.9942 19.132 4.02034 19.2627 4.07111 19.3845C4.12188 19.5064 4.19627 19.617 4.29 19.7099C4.38296 19.8037 4.49356 19.8781 4.61542 19.9288C4.73728 19.9796 4.86799 20.0057 5 20.0057C5.13201 20.0057 5.26272 19.9796 5.38458 19.9288C5.50644 19.8781 5.61704 19.8037 5.71 19.7099L12 13.4099L18.29 19.7099C18.383 19.8037 18.4936 19.8781 18.6154 19.9288C18.7373 19.9796 18.868 20.0057 19 20.0057C19.132 20.0057 19.2627 19.9796 19.3846 19.9288C19.5064 19.8781 19.617 19.8037 19.71 19.7099C19.8037 19.617 19.8781 19.5064 19.9289 19.3845C19.9797 19.2627 20.0058 19.132 20.0058 18.9999C20.0058 18.8679 19.9797 18.7372 19.9289 18.6154C19.8781 18.4935 19.8037 18.3829 19.71 18.2899L13.41 11.9999Z'
											fill='#7990AA'
										/>
									</svg>
								</button>
							</div>
						)}
						<nav className='modal-task__toolbar'>
							<h3 className='modal-task__toolbar-title'>ToolBar</h3>
							<ul className='modal-task__toolbar-list'>
								<li className='modal-task__toolbar-item'>
									<button className='modal-task__toolbar-button' title='Set timer'>
										<svg
											width='24'
											height='24'
											viewBox='0 0 24 24'
											fill='none'
											xmlns='http://www.w3.org/2000/svg'
										>
											<path
												d='M11 2C9.02219 2 7.08879 2.58649 5.4443 3.6853C3.79981 4.78412 2.51809 6.3459 1.76121 8.17317C1.00433 10.0004 0.806299 12.0111 1.19215 13.9509C1.578 15.8907 2.53041 17.6725 3.92894 19.0711C5.32746 20.4696 7.10929 21.422 9.0491 21.8079C10.9889 22.1937 12.9996 21.9957 14.8268 21.2388C16.6541 20.4819 18.2159 19.2002 19.3147 17.5557C20.4135 15.9112 21 13.9778 21 12C21 10.6868 20.7413 9.38642 20.2388 8.17317C19.7363 6.95991 18.9997 5.85752 18.0711 4.92893C17.1425 4.00035 16.0401 3.26375 14.8268 2.7612C13.6136 2.25866 12.3132 2 11 2ZM11 20C9.41775 20 7.87104 19.5308 6.55544 18.6518C5.23985 17.7727 4.21447 16.5233 3.60897 15.0615C3.00347 13.5997 2.84504 11.9911 3.15372 10.4393C3.4624 8.88743 4.22433 7.46197 5.34315 6.34315C6.46197 5.22433 7.88743 4.4624 9.43928 4.15372C10.9911 3.84504 12.5997 4.00346 14.0615 4.60896C15.5233 5.21447 16.7727 6.23984 17.6518 7.55544C18.5308 8.87103 19 10.4177 19 12C19 14.1217 18.1572 16.1566 16.6569 17.6569C15.1566 19.1571 13.1217 20 11 20ZM12 11.93V7C12 6.73478 11.8946 6.48043 11.7071 6.29289C11.5196 6.10536 11.2652 6 11 6C10.7348 6 10.4804 6.10536 10.2929 6.29289C10.1054 6.48043 10 6.73478 10 7V12C10 12 10 12.07 10 12.11C9.9754 12.3133 10.0138 12.5192 10.11 12.7L11.61 15.3C11.7426 15.5307 11.9615 15.6993 12.2184 15.7687C12.4753 15.8381 12.7493 15.8026 12.98 15.67C13.2107 15.5374 13.3794 15.3186 13.4487 15.0616C13.5181 14.8047 13.4826 14.5307 13.35 14.3L12 11.93Z'
												fill='#7990AA'
											/>
										</svg>
									</button>
								</li>
								<li className='modal-task__toolbar-item'>
									<button
										className='modal-task__toolbar-button'
										title='Set stroke'
										onClick={() => setColorStoreActive(!isColorStrokeActive)}
									>
										<svg
											width='24'
											height='24'
											viewBox='0 0 24 24'
											fill='none'
											xmlns='http://www.w3.org/2000/svg'
										>
											<path
												d='M7.42002 15.54C7.23377 15.7274 7.12923 15.9808 7.12923 16.245C7.12923 16.5092 7.23377 16.7627 7.42002 16.95C7.51298 17.0437 7.62358 17.1181 7.74544 17.1689C7.8673 17.2197 7.99801 17.2458 8.13002 17.2458C8.26203 17.2458 8.39274 17.2197 8.5146 17.1689C8.63646 17.1181 8.74706 17.0437 8.84002 16.95C9.02627 16.7627 9.13081 16.5092 9.13081 16.245C9.13081 15.9808 9.02627 15.7274 8.84002 15.54C8.74706 15.4463 8.63646 15.3719 8.5146 15.3211C8.39274 15.2704 8.26203 15.2442 8.13002 15.2442C7.99801 15.2442 7.8673 15.2704 7.74544 15.3211C7.62358 15.3719 7.51298 15.4463 7.42002 15.54ZM7.42002 7.05002C7.23377 7.23738 7.12923 7.49083 7.12923 7.75502C7.12923 8.0192 7.23377 8.27265 7.42002 8.46002C7.51298 8.55375 7.62358 8.62814 7.74544 8.67891C7.8673 8.72968 7.99801 8.75582 8.13002 8.75582C8.26203 8.75582 8.39274 8.72968 8.5146 8.67891C8.63646 8.62814 8.74706 8.55375 8.84002 8.46002C9.02627 8.27265 9.13081 8.0192 9.13081 7.75502C9.13081 7.49083 9.02627 7.23738 8.84002 7.05002C8.74706 6.95629 8.63646 6.88189 8.5146 6.83113C8.39274 6.78036 8.26203 6.75422 8.13002 6.75422C7.99801 6.75422 7.8673 6.78036 7.74544 6.83113C7.62358 6.88189 7.51298 6.95629 7.42002 7.05002ZM12.37 17.05C12.1722 17.05 11.9789 17.1087 11.8145 17.2185C11.65 17.3284 11.5218 17.4846 11.4461 17.6673C11.3705 17.8501 11.3506 18.0511 11.3892 18.2451C11.4278 18.4391 11.5231 18.6173 11.6629 18.7571C11.8028 18.897 11.9809 18.9922 12.1749 19.0308C12.3689 19.0694 12.57 19.0496 12.7527 18.9739C12.9354 18.8982 13.0916 18.77 13.2015 18.6056C13.3114 18.4411 13.37 18.2478 13.37 18.05C13.3768 17.9145 13.356 17.7791 13.3087 17.652C13.2615 17.5248 13.189 17.4086 13.0954 17.3104C13.0019 17.2121 12.8893 17.134 12.7646 17.0806C12.6399 17.0273 12.5057 16.9998 12.37 17V17.05ZM6.37002 11.05C6.17224 11.05 5.9789 11.1087 5.81445 11.2185C5.65 11.3284 5.52183 11.4846 5.44614 11.6673C5.37045 11.8501 5.35065 12.0511 5.38924 12.2451C5.42782 12.4391 5.52306 12.6173 5.66291 12.7571C5.80277 12.897 5.98095 12.9922 6.17493 13.0308C6.36891 13.0694 6.56998 13.0496 6.7527 12.9739C6.93543 12.8982 7.09161 12.77 7.20149 12.6056C7.31137 12.4411 7.37002 12.2478 7.37002 12.05C7.3768 11.9145 7.35595 11.7791 7.30875 11.652C7.26154 11.5248 7.18895 11.4086 7.09541 11.3104C7.00187 11.2121 6.88932 11.134 6.76462 11.0806C6.63991 11.0273 6.50566 10.9998 6.37002 11V11.05ZM12.37 5.05002C12.1722 5.05002 11.9789 5.10867 11.8145 5.21855C11.65 5.32843 11.5218 5.48461 11.4461 5.66733C11.3705 5.85006 11.3506 6.05113 11.3892 6.24511C11.4278 6.43909 11.5231 6.61727 11.6629 6.75712C11.8028 6.89698 11.9809 6.99222 12.1749 7.0308C12.3689 7.06939 12.57 7.04958 12.7527 6.9739C12.9354 6.89821 13.0916 6.77004 13.2015 6.60559C13.3114 6.44114 13.37 6.2478 13.37 6.05002C13.3768 5.91455 13.356 5.77912 13.3087 5.65196C13.2615 5.5248 13.189 5.40858 13.0954 5.31036C13.0019 5.21214 12.8893 5.13398 12.7646 5.08062C12.6399 5.02727 12.5057 4.99985 12.37 5.00002V5.05002ZM15.91 7.10002C15.7696 7.23963 15.6737 7.4178 15.6347 7.61195C15.5956 7.80609 15.6151 8.00746 15.6906 8.19053C15.7661 8.37361 15.8943 8.53014 16.0588 8.64028C16.2234 8.75042 16.417 8.80922 16.615 8.80922C16.8131 8.80922 17.0066 8.75042 17.1712 8.64028C17.3358 8.53014 17.464 8.37361 17.5395 8.19053C17.615 8.00746 17.6344 7.80609 17.5954 7.61195C17.5563 7.4178 17.4605 7.23963 17.32 7.10002C17.1393 6.90697 16.8896 6.79334 16.6253 6.78397C16.3611 6.7746 16.1039 6.87025 15.91 7.05002V7.10002ZM22.21 7.10002C21.2958 5.27231 19.8904 3.73544 18.1516 2.66172C16.4128 1.588 14.4092 1.0199 12.3656 1.02112C10.322 1.02234 8.31914 1.59284 6.5816 2.66863C4.84407 3.74443 3.44057 5.28298 2.5285 7.11178C1.61643 8.94057 1.23184 10.9873 1.41787 13.0224C1.60389 15.0576 2.35317 17.0006 3.58169 18.6338C4.8102 20.2669 6.46938 21.5255 8.37316 22.2684C10.2769 23.0114 12.35 23.2093 14.36 22.84C14.8655 22.7449 15.3469 22.55 15.7761 22.2667C16.2054 21.9834 16.5739 21.6174 16.86 21.19C17.1684 20.7254 17.3811 20.2041 17.4858 19.6564C17.5906 19.1087 17.5852 18.5456 17.47 18C17.407 17.6703 17.3736 17.3357 17.37 17C17.3744 16.031 17.6603 15.0841 18.1929 14.2745C18.7255 13.465 19.4819 12.8276 20.37 12.44C20.8489 12.2256 21.2787 11.9153 21.633 11.5284C21.9873 11.1414 22.2586 10.6859 22.43 10.19C22.6034 9.6833 22.6733 9.14693 22.6355 8.6127C22.5977 8.07847 22.453 7.55728 22.21 7.08002V7.10002ZM20.51 9.54002C20.4247 9.77933 20.2922 9.99911 20.1205 10.1863C19.9487 10.3736 19.7411 10.5244 19.51 10.63C18.28 11.1806 17.2351 12.0746 16.5007 13.2045C15.7663 14.3345 15.3737 15.6524 15.37 17C15.3715 17.4701 15.4184 17.9389 15.51 18.4C15.5711 18.6818 15.5751 18.973 15.5219 19.2564C15.4686 19.5397 15.3592 19.8096 15.2 20.05C15.0653 20.2604 14.8881 20.4403 14.6797 20.5781C14.4713 20.7159 14.2364 20.8085 13.99 20.85C13.4559 20.9504 12.9135 21.0006 12.37 21C11.1642 21.0006 9.97054 20.7589 8.85994 20.2892C7.74935 19.8195 6.74447 19.1314 5.90498 18.2658C5.06549 17.4002 4.4085 16.3747 3.97304 15.2502C3.53757 14.1258 3.33251 12.9253 3.37002 11.72C3.44763 9.47281 4.35903 7.33497 5.92665 5.72298C7.49428 4.11099 9.60585 3.1403 11.85 3.00002H12.36C14.0358 3.00044 15.6781 3.4687 17.1021 4.35208C18.5261 5.23546 19.6752 6.49887 20.42 8.00002C20.6493 8.475 20.6816 9.0213 20.51 9.52002V9.54002ZM12.37 11C12.1722 11 11.9789 11.0587 11.8145 11.1685C11.65 11.2784 11.5218 11.4346 11.4461 11.6173C11.3705 11.8001 11.3506 12.0011 11.3892 12.1951C11.4278 12.3891 11.5231 12.5673 11.6629 12.7071C11.8028 12.847 11.9809 12.9422 12.1749 12.9808C12.3689 13.0194 12.57 12.9996 12.7527 12.9239C12.9354 12.8482 13.0916 12.72 13.2015 12.5556C13.3114 12.3911 13.37 12.1978 13.37 12C13.37 11.7348 13.2647 11.4804 13.0771 11.2929C12.8896 11.1054 12.6352 11 12.37 11Z'
												fill='#7990AA'
											/>
										</svg>
									</button>
								</li>
								<li className='modal-task__toolbar-item'>
									<div className='modal-task__toolbar-button' title='Upload cover'>
										<input
											type='file'
											name='cover'
											id='cover-upload'
											accept='image/*'
											className='modal-task__toolbar--file-upload'
											onChange={e => CoverReader(e)}
											ref={refImageUpload}
										/>
										<label htmlFor='cover-upload'>
											<svg
												width='24'
												height='24'
												viewBox='0 0 24 24'
												fill='none'
												xmlns='http://www.w3.org/2000/svg'
											>
												<path
													d='M19 13C18.7348 13 18.4804 13.1054 18.2929 13.2929C18.1054 13.4804 18 13.7348 18 14V14.38L16.52 12.9C15.9974 12.3816 15.2911 12.0906 14.555 12.0906C13.8189 12.0906 13.1126 12.3816 12.59 12.9L11.89 13.6L9.41 11.12C8.88012 10.6156 8.17657 10.3343 7.445 10.3343C6.71343 10.3343 6.00988 10.6156 5.48 11.12L4 12.6V7.00002C4 6.7348 4.10536 6.48045 4.29289 6.29291C4.48043 6.10538 4.73478 6.00002 5 6.00002H12C12.2652 6.00002 12.5196 5.89466 12.7071 5.70712C12.8946 5.51959 13 5.26523 13 5.00002C13 4.7348 12.8946 4.48045 12.7071 4.29291C12.5196 4.10538 12.2652 4.00002 12 4.00002H5C4.20435 4.00002 3.44129 4.31609 2.87868 4.8787C2.31607 5.44131 2 6.20437 2 7.00002V19C2 19.7957 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H17C17.7956 22 18.5587 21.6839 19.1213 21.1213C19.6839 20.5587 20 19.7957 20 19V14C20 13.7348 19.8946 13.4804 19.7071 13.2929C19.5196 13.1054 19.2652 13 19 13ZM5 20C4.73478 20 4.48043 19.8947 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V15.43L6.9 12.53C7.04691 12.39 7.24206 12.3119 7.445 12.3119C7.64794 12.3119 7.84309 12.39 7.99 12.53L11.16 15.7L15.46 20H5ZM18 19C17.9986 19.1914 17.9354 19.3773 17.82 19.53L13.31 15L14.01 14.3C14.0817 14.2268 14.1673 14.1687 14.2617 14.129C14.3561 14.0893 14.4576 14.0689 14.56 14.0689C14.6624 14.0689 14.7639 14.0893 14.8583 14.129C14.9527 14.1687 15.0383 14.2268 15.11 14.3L18 17.21V19ZM22.71 4.29002L19.71 1.29002C19.6149 1.19898 19.5028 1.12761 19.38 1.08002C19.1365 0.98 18.8635 0.98 18.62 1.08002C18.4972 1.12761 18.3851 1.19898 18.29 1.29002L15.29 4.29002C15.1968 4.38326 15.1228 4.49395 15.0723 4.61577C15.0219 4.73759 14.9959 4.86816 14.9959 5.00002C14.9959 5.26632 15.1017 5.52171 15.29 5.71002C15.4783 5.89832 15.7337 6.00411 16 6.00411C16.2663 6.00411 16.5217 5.89832 16.71 5.71002L18 4.41002V10C18 10.2652 18.1054 10.5196 18.2929 10.7071C18.4804 10.8947 18.7348 11 19 11C19.2652 11 19.5196 10.8947 19.7071 10.7071C19.8946 10.5196 20 10.2652 20 10V4.41002L21.29 5.71002C21.383 5.80375 21.4936 5.87814 21.6154 5.92891C21.7373 5.97968 21.868 6.00582 22 6.00582C22.132 6.00582 22.2627 5.97968 22.3846 5.92891C22.5064 5.87814 22.617 5.80375 22.71 5.71002C22.8037 5.61705 22.8781 5.50645 22.9289 5.38459C22.9797 5.26274 23.0058 5.13203 23.0058 5.00002C23.0058 4.86801 22.9797 4.7373 22.9289 4.61544C22.8781 4.49358 22.8037 4.38298 22.71 4.29002Z'
													fill='#7990AA'
												/>
											</svg>
										</label>
									</div>
								</li>
								<li className='modal-task__toolbar-item'>
									<div className='modal-task__toolbar-button' title='Upload file'>
										<input
											type='file'
											name='file'
											id='file-upload'
											className='modal-task__toolbar--file-upload'
											accept='image/*'
										/>
										<label htmlFor='file-upload'>
											<svg
												width='24'
												height='24'
												viewBox='0 0 24 24'
												fill='none'
												xmlns='http://www.w3.org/2000/svg'
											>
												<path
													d='M18.1 12.4L11.9 18.6C10.2 20.3 7.50001 20.3 5.90001 18.6C4.20001 16.9 4.20001 14.2 5.90001 12.6L13.9 4.59998C14.9 3.69998 16.4 3.69998 17.4 4.59998C18.4 5.59998 18.4 7.19998 17.4 8.09998L10.5 15C10.2 15.3 9.70001 15.3 9.40001 15C9.10001 14.7 9.10001 14.2 9.40001 13.9L14.5 8.79998C14.9 8.39998 14.9 7.79998 14.5 7.39998C14.1 6.99998 13.5 6.99998 13.1 7.39998L8.00001 12.6C6.90001 13.7 6.90001 15.4 8.00001 16.5C9.10001 17.5 10.8 17.5 11.9 16.5L18.8 9.59998C20.6 7.79998 20.6 4.99998 18.8 3.19998C17 1.39998 14.2 1.39998 12.4 3.19998L4.40001 11.2C3.20001 12.4 2.60001 14 2.60001 15.6C2.60001 19.1 5.40001 21.8 8.90001 21.8C10.6 21.8 12.1 21.1 13.3 20L19.5 13.8C19.9 13.4 19.9 12.8 19.5 12.4C19.1 12 18.5 12 18.1 12.4Z'
													fill='#7990AA'
												/>
											</svg>
										</label>
									</div>
								</li>
								<li className='modal-task__toolbar-item'>
									<button className='modal-task__toolbar-button' title='Delete card'>
										<svg
											width='24'
											height='24'
											viewBox='0 0 24 24'
											fill='none'
											xmlns='http://www.w3.org/2000/svg'
										>
											<path
												d='M10 18C10.2652 18 10.5196 17.8946 10.7071 17.7071C10.8946 17.5196 11 17.2652 11 17V11C11 10.7348 10.8946 10.4804 10.7071 10.2929C10.5196 10.1054 10.2652 10 10 10C9.73478 10 9.48043 10.1054 9.29289 10.2929C9.10536 10.4804 9 10.7348 9 11V17C9 17.2652 9.10536 17.5196 9.29289 17.7071C9.48043 17.8946 9.73478 18 10 18ZM20 6H16V5C16 4.20435 15.6839 3.44129 15.1213 2.87868C14.5587 2.31607 13.7956 2 13 2H11C10.2044 2 9.44129 2.31607 8.87868 2.87868C8.31607 3.44129 8 4.20435 8 5V6H4C3.73478 6 3.48043 6.10536 3.29289 6.29289C3.10536 6.48043 3 6.73478 3 7C3 7.26522 3.10536 7.51957 3.29289 7.70711C3.48043 7.89464 3.73478 8 4 8H5V19C5 19.7956 5.31607 20.5587 5.87868 21.1213C6.44129 21.6839 7.20435 22 8 22H16C16.7956 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7956 19 19V8H20C20.2652 8 20.5196 7.89464 20.7071 7.70711C20.8946 7.51957 21 7.26522 21 7C21 6.73478 20.8946 6.48043 20.7071 6.29289C20.5196 6.10536 20.2652 6 20 6ZM10 5C10 4.73478 10.1054 4.48043 10.2929 4.29289C10.4804 4.10536 10.7348 4 11 4H13C13.2652 4 13.5196 4.10536 13.7071 4.29289C13.8946 4.48043 14 4.73478 14 5V6H10V5ZM17 19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H8C7.73478 20 7.48043 19.8946 7.29289 19.7071C7.10536 19.5196 7 19.2652 7 19V8H17V19ZM14 18C14.2652 18 14.5196 17.8946 14.7071 17.7071C14.8946 17.5196 15 17.2652 15 17V11C15 10.7348 14.8946 10.4804 14.7071 10.2929C14.5196 10.1054 14.2652 10 14 10C13.7348 10 13.4804 10.1054 13.2929 10.2929C13.1054 10.4804 13 10.7348 13 11V17C13 17.2652 13.1054 17.5196 13.2929 17.7071C13.4804 17.8946 13.7348 18 14 18Z'
												fill='#7990AA'
											/>
										</svg>
									</button>
								</li>
								<li className='modal-task__toolbar-item'>
									<button
										className='modal-task__toolbar-button'
										onClick={() => modalTaskInactive}
										title='Close'
									>
										<svg
											width='24'
											height='24'
											viewBox='0 0 24 24'
											fill='none'
											xmlns='http://www.w3.org/2000/svg'
										>
											<path
												d='M13.41 11.9999L19.71 5.70994C19.8983 5.52164 20.0041 5.26624 20.0041 4.99994C20.0041 4.73364 19.8983 4.47825 19.71 4.28994C19.5217 4.10164 19.2663 3.99585 19 3.99585C18.7337 3.99585 18.4783 4.10164 18.29 4.28994L12 10.5899L5.71 4.28994C5.5217 4.10164 5.2663 3.99585 5 3.99585C4.7337 3.99585 4.4783 4.10164 4.29 4.28994C4.1017 4.47825 3.99591 4.73364 3.99591 4.99994C3.99591 5.26624 4.1017 5.52164 4.29 5.70994L10.59 11.9999L4.29 18.2899C4.19627 18.3829 4.12188 18.4935 4.07111 18.6154C4.02034 18.7372 3.9942 18.8679 3.9942 18.9999C3.9942 19.132 4.02034 19.2627 4.07111 19.3845C4.12188 19.5064 4.19627 19.617 4.29 19.7099C4.38296 19.8037 4.49356 19.8781 4.61542 19.9288C4.73728 19.9796 4.86799 20.0057 5 20.0057C5.13201 20.0057 5.26272 19.9796 5.38458 19.9288C5.50644 19.8781 5.61704 19.8037 5.71 19.7099L12 13.4099L18.29 19.7099C18.383 19.8037 18.4936 19.8781 18.6154 19.9288C18.7373 19.9796 18.868 20.0057 19 20.0057C19.132 20.0057 19.2627 19.9796 19.3846 19.9288C19.5064 19.8781 19.617 19.8037 19.71 19.7099C19.8037 19.617 19.8781 19.5064 19.9289 19.3845C19.9797 19.2627 20.0058 19.132 20.0058 18.9999C20.0058 18.8679 19.9797 18.7372 19.9289 18.6154C19.8781 18.4935 19.8037 18.3829 19.71 18.2899L13.41 11.9999Z'
												fill='#7990AA'
											/>
										</svg>
									</button>
								</li>
							</ul>
						</nav>
						<form id='task-form' className='modal-task__body'>
							<div className='modal-task__body-wrapper'>
								<OpacityInput maxLength={40} placeholder='Title...' />
								<textarea
									placeholder='Description'
									name='description'
									id='description'
									cols={20}
									rows={5}
									className='modal-task__textarea'
								/>

								<CSSTransition
									in={isColorStrokeActive}
									timeout={400}
									classNames='mf'
									nodeRef={RefColor}
									unmountOnExit
								>
									<div className='modal-task__field' ref={RefColor}>
										<ColorStrokeField />
									</div>
								</CSSTransition>

								<div className='modal-task__save'>
									<MainButton text='Save' onClick={() => {}} type='submit' />
								</div>
							</div>
						</form>
					</div>
				</div>
			</ModalWindow>
		</TransitionGroup>
	)
}
